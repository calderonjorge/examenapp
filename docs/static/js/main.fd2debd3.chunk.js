(this["webpackJsonpexamen-app"]=this["webpackJsonpexamen-app"]||[]).push([[0],{162:function(e,a,t){},163:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(30),o=t.n(c),l=t(9),i=t(17),s=t.n(i),u=t(21),m=t(18),p=t(14),d=t(5),b=t(60),f=t.n(b),v=t(59),E=t.n(v),h=t(32);t(164),t(77);h.a.initializeApp({apiKey:"AIzaSyCDt2osehi8eG37pIxfAQixPo-FHz2oNP4",authDomain:"users-84536.firebaseapp.com",projectId:"users-84536",storageBucket:"users-84536.appspot.com",messagingSenderId:"809486910756",appId:"1:809486910756:web:d587af27f30fea09c85fb1"});h.a.firestore();var g="[auth] login",y="[auth] logout",O="[UI] Set error",j="[UI] Remove error",N="[Employees] Load employees",x="[Employees] Add employee to state",w="[UI] Start loading",_="[UI] Finish loading",I=function(e){return{type:O,payload:e}},k=function(){return{type:j}},S=function(){return{type:_}},C=function(e,a){return function(t){t({type:w}),h.a.auth().signInWithEmailAndPassword(e,a).then((function(e){var a=e.user;t(L(a.uid,a.displayName)),t(S())})).catch((function(e){t(S()),E.a.fire("Error",e.message,"error")}))}},L=function(e,a){return{type:g,payload:{uid:e,displayName:a}}},P=function(){return{type:y}},A=t(33),D=t(15),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(n.useState)(e),t=Object(m.a)(a,2),r=t[0],c=t[1],o=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;c(a)},l=function(e){var a=e.target;c(Object(D.a)(Object(D.a)({},r),{},Object(A.a)({},a.name,a.value)))};return[r,l,o]},U=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e})).ui.loading,t=Object(l.c)((function(e){return e.ui})).msgError,n=F({email:"",password:""}),c=Object(m.a)(n,2),o=c[0],i=c[1],s=o.email,u=o.password,p=function(e){e.preventDefault()},d=function(e){e.preventDefault(),e.nativeEvent.stopImmediatePropagation()},b=function(){return 0===s.trim().length?(e(I("Correo Requerido")),!1):f.a.isEmail(s)?(e(k()),!0):(e(I("Email no valido")),!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"auth__title"},"Login"),t&&r.a.createElement("div",{className:"auth__alert-error"}," ",t),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),b()&&e(C(s,u))}},r.a.createElement("input",{type:"text",placeholder:"Email",name:"email",className:"auth__input",autoComplete:"off",value:s,onChange:i,onCopy:d,onPaste:p}),r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",className:"auth__input",value:u,onChange:i,onCopy:d,onPaste:p}),r.a.createElement("button",{disabled:a,type:"submit",className:"btn btn-primary btn-block"},"Login")))},z=function(){return r.a.createElement("div",{className:"auth__main"},r.a.createElement("div",{className:"auth__box-container"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/login",component:U}),r.a.createElement(d.a,{to:"/login"}))))},H=t(34),T=function(e){var a=e.isLoggedIn,t=e.component,n=Object(H.a)(e,["isLoggedIn","component"]);return r.a.createElement(d.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/login"})}}))},B=function(e){var a=e.isLoggedIn,t=e.component,n=Object(H.a)(e,["isLoggedIn","component"]);return r.a.createElement(d.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(d.a,{to:"/"}):r.a.createElement(t,e)}}))},J=t(61),R=t.n(J);var q=function(){var e=Object(l.c)((function(e){return e.employees})).employees;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{className:"btn btn-primary btn-block",to:"/newemployee"},"New Employe"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(R.a,{columns:[{name:"id",selector:"id",sortable:!0},{name:"name",selector:"name",sortable:!0},{name:"last name",selector:"last_name",sortable:!0},{name:"birthday",selector:"birthday",sortable:!0}],data:e,title:"Employees",pagination:!0,fixedHeaderScrollHeight:"600px"})))},K=function(e){return{type:N,payload:e}},W=function(){var e=Object(l.b)(),a=Object(l.c)((function(e){return e.ui})).msgError,t=F({name:"",last_name:"",birthday:""}),n=Object(m.a)(t,3),c=n[0],o=n[1],i=n[2],p=c.name,d=c.last_name,b=c.birthday,f=function(){return 0===p.trim().length||0===d.trim().length||0===b.trim().length?(e(I("All inputs are required")),!1):(e(k()),!0)};return r.a.createElement("div",null,a&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},a),r.a.createElement("form",{onSubmit:function(a){var t;a.preventDefault(),f()&&(e((t=c,function(){var e=Object(u.a)(s.a.mark((function e(a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.stringify(t),e.next=4,fetch("https://6edeayi7ch.execute-api.us-east-1.amazonaws.com/v1/examen/employees/jorge_calderon",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:n});case 4:console.log("OK"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}())),e(function(e){return{type:x,payload:e}}(c)),i())}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"name",value:p,onChange:o,placeholder:"Enter a name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Last Name"),r.a.createElement("input",{type:"text",className:"form-control",name:"last_name",value:d,onChange:o,placeholder:"Last name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Birthday"),r.a.createElement("input",{type:"date",className:"form-control",value:b,onChange:o,name:"birthday"})),r.a.createElement("button",{className:"btn btn-primary btn-block"},"Submit")))},X=function(){var e=Object(l.b)();return r.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark"},r.a.createElement("div",{className:"container"},r.a.createElement(p.b,{className:"navbar-brand",to:"/"},"Home"),r.a.createElement("div",{className:"navbar-collapse"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(p.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/"},"Employees"),r.a.createElement(p.c,{activeClassName:"active",className:"nav-item nav-link",exact:!0,to:"/upload"},"Upload"))),r.a.createElement("div",{className:"navbar-collapse collapse w-100 order-3 dual-collapse2"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("button",{className:"nav-item nav-link btn",onClick:function(){e(function(){var e=Object(u.a)(s.a.mark((function e(a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.auth().signOut();case 2:a(P());case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}},"Logout")))))},G=function(){return r.a.createElement("div",null,"Upload")},M=function(){return r.a.createElement("div",null,r.a.createElement(X,null),r.a.createElement("div",{className:"container mt-4"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:q}),r.a.createElement(d.b,{exact:!0,path:"/newemployee",component:W}),r.a.createElement(d.b,{exact:!0,path:"/upload",component:G}),r.a.createElement(d.a,{to:"/"}))))},Q=function(){var e=Object(l.b)(),a=Object(n.useState)(!0),t=Object(m.a)(a,2),c=t[0],o=t[1],i=Object(n.useState)(!1),b=Object(m.a)(i,2),f=b[0],v=b[1];return Object(n.useEffect)((function(){return h.a.auth().onAuthStateChanged(function(){var a=Object(u.a)(s.a.mark((function a(t){return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:(null===t||void 0===t?void 0:t.uid)?(e(L(t.uid,t.displayName)),v(!0),e(function(){var e=Object(u.a)(s.a.mark((function e(a){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://6edeayi7ch.execute-api.us-east-1.amazonaws.com/v1/examen/employees/jorge_calderon");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r=n.data.employees,a(K(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}())):v(!1),o(!1);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),function(){e(P()),v(!1)}}),[e,o,v]),c?r.a.createElement("h1",null,"Waiit.."):r.a.createElement(p.a,null,r.a.createElement("div",null,r.a.createElement(d.d,null,r.a.createElement(B,{isLoggedIn:f,exact:!0,path:"/login",component:z}),r.a.createElement(T,{isLoggedIn:f,path:"/",component:M}),r.a.createElement(d.a,{to:"/login"}))))},V=t(22),Y=t(65),Z=t(66),$={employees:[]},ee={loading:!1,msgError:null},ae="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||V.d,te=Object(V.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case g:return{uid:a.payload.uid,name:a.payload.displayName};case y:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case O:return Object(D.a)(Object(D.a)({},e),{},{msgError:a.payload});case j:return Object(D.a)(Object(D.a)({},e),{},{msgError:null});case w:return Object(D.a)(Object(D.a)({},e),{},{loading:!0});case _:return Object(D.a)(Object(D.a)({},e),{},{loading:!1});default:return e}},employees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N:return{employees:a.payload};case x:return{employees:[a.payload].concat(Object(Z.a)(e.employees))};default:return e}}}),ne=Object(V.e)(te,ae(Object(V.a)(Y.a))),re=function(){return r.a.createElement(l.a,{store:ne},r.a.createElement(Q,null))};t(161),t(162);o.a.render(r.a.createElement(re,null),document.getElementById("root"))},67:function(e,a,t){e.exports=t(163)}},[[67,1,2]]]);
//# sourceMappingURL=main.fd2debd3.chunk.js.map